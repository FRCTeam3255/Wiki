<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Tayler Uva" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Swoffsets (Swerve Offsets) - SN Wiki</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Swoffsets (Swerve Offsets)";
        var mkdocs_page_input_path = "Software/Swoffsets.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../.images/SN White Text Logo.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../.." >SuperNURDs Internal Wiki</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Build Season</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Build%20Season/Deciding%20Designs%20%28Monday%29/" >Robot Architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Build%20Season/Kickoff/" >Kickoff Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Build%20Season/Team%20Photo/" >Team Photo</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Competition</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Competition/Comp%20Day/" >Comp Day</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Competition/Drive%20Tryouts/" >Drive Tryouts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Competition/Impact%20Judges%27%20Questions/" >Impact Judges' Questions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Competition/Pit%20Packing/" >Pit Packing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Competition/Pre%20Comp%20Prep/" >Pre Comp Prep</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Competition/Regional%20Reflection/" >Regional Reflection</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Competition/Role%20Definitions/" >Competition Roles</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Electrical</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Electrical/Breaker%20Wiring/" >Breaker Wiring</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Electrical/Component%20Mounting/" >Component Mounting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Electrical/Pre-Boot%20Checklist/" >Pre/First-Boot Checklist</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Electrical/Ring%20Terminal%20Crimping/" >Crimping Instructions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Electrical/Selecting%20a%20Battery/" >Selecting a Battery</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Electrical/Wiring%20Cheat%20Sheet/" >Wiring Cheat Sheet</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Electrical/Wiring%20LED/" >Wiring LEDs</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Fabrication</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Fabrication/Assembly%20Standard/" >Assembly Standard</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Fabrication/Bumpers/" >Bumper Construction</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">General</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../General/Computer%20Programs/" >Computer Programs Used</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../General/Standard%203D%20Prints/" >Standard 3D Prints</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../General/Standard%20Purchases/" >Standard Purchases</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">GitHub</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../GitHub/Downloading%20Projects/" >Downloading GitHub Projects</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Mechanical</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Mechanical/Bolt%20to%20Tool%20Lookup/" >Bolt to Tool Lookup</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Media and Comms</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Media%20and%20Comms/Graphic%20Design/" >Graphic Design</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Media%20and%20Comms/Video%20Editing/" >Video Editing</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Media%20and%20Comms/Website/" >Website</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Software</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../Configuring%20the%20Radio/" >Configuring the Radio</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Conventions/" >Naming Conventions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Creating%20new%20Robot%20Project/" >Creating new Robot Project</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../GitHub%20Standards/" >GitHub Standards</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Setting%20Up%20Driverstation/" >Setting Up Driverstation</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#" >Swoffsets (Swerve Offsets)</a> <ul class="current" >
    <li class="toctree-l2"><a class="reference internal" href="#resources-you-must-gather">Resources you must gather</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#set-the-front-of-the-robot-if-not-already-done">Set the Front of the Robot (If not already done)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#getting-the-swoffsets">Getting the Swoffsets</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#verifying-your-swoffsets">Verifying your Swoffsets</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#common-failures">Common Failures:</a>
    </li>
  </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../TalonFX%20Blink%20Codes/" >TalonFX Blink Codes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Tuning%20Auto%20PID/" >Tuning Auto PID</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Tuning%20Motion%20Magic%20PID/" >Tuning Motion Magic PID</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../UpdateCAD/" >Step-by-Step Guide to Update CAD for Simulation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Updating%20Limelight%20Firmware/" >Updating Limelight Firmware</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Vendor%20Libraries/" >Vendor Libraries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../WPILib%20Install/" >WPILib Installation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Stats</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Stats/App%20Setup/" >App Setup</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Stats/Training/" >Training</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Stats/War%20Room/" >War Room</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Test Folder</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Test%20Folder/Test%20File/" >This is a test page</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">SN Wiki</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Software</li>
      <li class="breadcrumb-item active">Swoffsets (Swerve Offsets)</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/FRCTeam3255/Wiki/edit/main/Software/Swoffsets.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="swoffsets-swerve-offsets">Swoffsets (Swerve Offsets)</h1>
<h2 id="resources-you-must-gather">Resources you must gather</h2>
<ul>
<li>A straight-edge, slightly longer than the distance between modules (A 1 inch tube works fine for this)</li>
<li>2 Swoffset Bricks (3d printed, found in the Electrical Cabinet's "Other Tools" Drawer)</li>
<li>A Laptop with the following Software installed:<ul>
<li>Glass</li>
<li>Code for your robot</li>
<li>FRC Driver Station</li>
<li>AdvantageScope</li>
<li>Phoenix Tuner</li>
</ul>
</li>
<li>A Controller</li>
<li>Gaff Tape &amp; A Sharpie</li>
</ul>
<hr />
<h2 id="set-the-front-of-the-robot-if-not-already-done">Set the Front of the Robot (If not already done)</h2>
<p>If this hasn't been done already, you need to determine where the <em>front</em> of the robot will be and name the modules accordingly.
The front of the robot is typically the side that the scoring mechanism is on, but it can be any side. Having it be the scoring mechanism side makes it easy to remember. </p>
<p>Whichever side you choose, you need to keep it consistent across <em>both robots (comp &amp; practice), the AdvantageScope models, and PathPlanner.</em> You'll need to communicate which side is the front to the rest of the team.</p>
<h3 id="steps">Steps</h3>
<ol>
<li>Pick a side to be the front!</li>
<li>Take Gaff tape and <em>physically label</em> the front of the robot so that it's visible from the underside</li>
<li>Also label the <strong>robot's</strong> left &amp; right. This saves lots of headaches later. <blockquote>
<p>If you're looking at the underside, this may not match <em>your</em> left and right, since they're relative to where the robot's left is when it's on the ground. This depends on how the robot is tipped over. Reference the <a href="https://docs.limelightvision.io/docs/docs-limelight/getting-started/FRC/networking#set-ip-address">WPILib Robot coordinate system</a>; The robot's left is positive on the y axis. </p>
</blockquote>
</li>
<li>Put small labels near each module to indicate if they're <code>Front Left (0), Front Right (1), Back Left (2), or Back Right (3)</code>. </li>
<li>Using Phoenix Tuner, set the CAN id's &amp; names of all Motors &amp; CANCoders to match their physical location. Make sure their ids match the ones in your codebase's <code>RobotMap.java</code>.</li>
</ol>
<hr />
<h2 id="getting-the-swoffsets">Getting the Swoffsets</h2>
<ol>
<li>Power on the robot</li>
<li>Deploy your current code to the robot if you haven't already</li>
<li>Identify the <em>front right and back right</em> swerve modules</li>
<li>Rotate <em>both</em> Bevels to face the robot's <strong>right</strong><ul>
<li>Bevels are the spiky lookin gear things on the side of the wheel. They're on the opposite side of where you're going to put the swoffset block</li>
<li><img alt="Diagram" src="../../.images/Software/Swoffsets/swoffset_diagram.png" /></li>
</ul>
</li>
<li>Insert the Swoffset blocks into those modules, pressing it in until it matches the image below. Then, press your straightedge into the flat part of the blocks to ensure that the modules are straight.<ul>
<li><img alt="Swoffset Blocks" src="../../.images/Software/Swoffsets/IMG_8986.jpg" /></li>
<li><img alt="Straightedge" src="../../.images/Software/Swoffsets/IMG_8987.jpg" /></li>
</ul>
</li>
<li>Connect to the robot, then open Glass</li>
<li>Navigate to the dropdown that shows the Absolute (Raw) Encoder values for your modules<ul>
<li>Front Left = 0, Front Right = 1, Back Left = 2, Back Right = 3</li>
<li><img alt="Glass" src="../../.images/Software/Swoffsets/glass_eu4L6ovWEM.png" /></li>
</ul>
</li>
<li>Copy the Absolute Encoder Raw value for that module and paste it into the offset constant in your code</li>
<li>Once you've done both modules, repeat steps 3-8 with the <em>front left and back left</em> modules</li>
<li>Take the blocks out before you begin driving the swerve</li>
</ol>
<hr />
<h2 id="verifying-your-swoffsets">Verifying your Swoffsets</h2>
<ol>
<li>Redeploy code to the robot, now with the correct offsets</li>
<li>Open AdvantageScope and navigate to the <code>Swerve</code> tab</li>
<li>Drag over the <code>Desired States</code> and <code>Actual States</code> to <code>Sources</code> on the bottom of the window </li>
<li>Open Driverstation, connect a controller, reset your pose to be relative to you, then begin driving</li>
<li>If pressing up on the joystick makes the robot drive forwards, you've done swoffsets correctly! 🎉</li>
<li>Verify that the <code>Desired States</code> mostly match the <code>Actual States</code> using the AdvantageScope UI. Revel in how cool they look. Then go get some fruit snacks because you've earned it 😎
<img alt="AdvantageScope" src="../../.images/Software/Swoffsets/AdvantageScope_%28WPILib%29_HAoyjhRLd6.png" /></li>
</ol>
<h2 id="common-failures">Common Failures:</h2>
<ul>
<li><strong>Wheel(s) go in "random" directions.</strong><ul>
<li>You may have mapped the wrong offsets to the wrong modules. Check that your <em>front left</em> module in code is mapped to the module on the robot's front left. Check that the offset you got from that module in glass was set to the same module in code. Repeat for all the modules.</li>
<li>Another possible issue is a hardware issue with the CANCoder. Ensure that the magnet was glued when installing the module. An un-glued magnet will cause your module to slowly drift.</li>
</ul>
</li>
<li><strong>Robot doesn't drive in the correct direction, but all of the wheels face the same way.</strong>
<em>Example: Moving up on the stick makes the robot go backwards</em><ul>
<li>You've likely done swoffsets incorrectly or mapped the modules incorrectly. Check that your <em>front left</em> module in code is mapped to the module on the robot's front left. Repeat for all of your modules. Then, redo your swoffsets and make sure you orient the wheels in the correct direction!
-<strong>Robot starts driving correctly on boot, but wheel(s) excessively drift over time.</strong></li>
<li>Reboot the robot. If the robot begins driving correctly again on boot, this eliminates the CANCoder as the issue. If not, ensure that the magnet was glued when installing the module.</li>
<li>Otherwise, there is likely something mechanically wrong with the module. This is typically an issue with the bearing or the belt. </li>
</ul>
</li>
</ul>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../Setting%20Up%20Driverstation/" class="btn btn-neutral float-left" title="Setting Up Driverstation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../TalonFX%20Blink%20Codes/" class="btn btn-neutral float-right" title="TalonFX Blink Codes">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/FRCTeam3255/Wiki" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../Setting%20Up%20Driverstation/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../TalonFX%20Blink%20Codes/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
